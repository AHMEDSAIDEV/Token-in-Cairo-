<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Starknet-React: React Integration - The Starknet Book</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="title-page.html">The Starknet Book</a></li><li class="chapter-item expanded affix "><a href="ch00-00-introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="ch02-00-starknet-tooling.html"><strong aria-hidden="true">2.</strong> Tooling</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch02-01-basic-installation.html"><strong aria-hidden="true">2.1.</strong> Basic Installation</a></li><li class="chapter-item expanded "><a href="ch02-02-compile-deploy-interact.html"><strong aria-hidden="true">2.2.</strong> Compile, Deploy, Interact</a></li><li class="chapter-item expanded "><a href="ch02-03-scarb.html"><strong aria-hidden="true">2.3.</strong> Scarb: The Package Manager</a></li><li class="chapter-item expanded "><a href="ch02-04-starkli.html"><strong aria-hidden="true">2.4.</strong> Starkli: A CLI interface ðŸš§</a></li><li class="chapter-item expanded "><a href="ch02-05-katana.html"><strong aria-hidden="true">2.5.</strong> Katana: A Local Node</a></li><li class="chapter-item expanded "><a href="ch02-06-starknet-devnet.html"><strong aria-hidden="true">2.6.</strong> Starknet Devnet ðŸš§</a></li><li class="chapter-item expanded "><a href="ch02-07-starknet-js.html"><strong aria-hidden="true">2.7.</strong> Starknet-js: Javascript SDK</a></li><li class="chapter-item expanded "><a href="ch02-08-starknet-react.html" class="active"><strong aria-hidden="true">2.8.</strong> Starknet-React: React Integration</a></li><li class="chapter-item expanded "><a href="ch02-09-starknet-py.html"><strong aria-hidden="true">2.9.</strong> Starknet-py: Python SDK ðŸš§</a></li><li class="chapter-item expanded "><a href="ch02-10-starknet-rs.html"><strong aria-hidden="true">2.10.</strong> Starknet-rs: Rust SDK ðŸš§</a></li><li class="chapter-item expanded "><a href="ch02-11-foundry-cast.html"><strong aria-hidden="true">2.11.</strong> Foundry Cast: Interacting with Starknet ðŸš§</a></li><li class="chapter-item expanded "><a href="ch02-12-foundry-forge.html"><strong aria-hidden="true">2.12.</strong> Foundry Forge: Testing ðŸš§</a></li></ol></li><li class="chapter-item expanded "><a href="ch03-00-architecture.html"><strong aria-hidden="true">3.</strong> Architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch03-01-transactions.html"><strong aria-hidden="true">3.1.</strong> Transactions</a></li><li class="chapter-item expanded "><a href="ch03-02-sequencers.html"><strong aria-hidden="true">3.2.</strong> Sequencers</a></li><li class="chapter-item expanded "><a href="ch03-03-provers.html"><strong aria-hidden="true">3.3.</strong> Provers ðŸš§</a></li><li class="chapter-item expanded "><a href="ch03-04-nodes.html"><strong aria-hidden="true">3.4.</strong> Nodes ðŸš§</a></li><li class="chapter-item expanded "><a href="ch03-05-layer-3.html"><strong aria-hidden="true">3.5.</strong> Layer 3 and App Chains ðŸš§  </a></li><li class="chapter-item expanded "><a href="ch03-06-solidity-verifier.html"><strong aria-hidden="true">3.6.</strong> Solidity Verifier ðŸš§</a></li><li class="chapter-item expanded "><a href="ch03-07-decentralization.html"><strong aria-hidden="true">3.7.</strong> Decentralization ðŸš§</a></li></ol></li><li class="chapter-item expanded "><a href="ch04-00-account-abstraction.html"><strong aria-hidden="true">4.</strong> Account Abstraction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch04-01-accounts.html"><strong aria-hidden="true">4.1.</strong> Accounts</a></li><li class="chapter-item expanded "><a href="ch04-02-hello-account.html"><strong aria-hidden="true">4.2.</strong> Hello, Account! ðŸš§</a></li><li class="chapter-item expanded "><a href="ch04-03-standard-account.html"><strong aria-hidden="true">4.3.</strong> Standard AccounT ðŸš§</a></li><li class="chapter-item expanded "><a href="ch04-04-examples.html"><strong aria-hidden="true">4.4.</strong> Examples</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch04-04-01-multicaller.html"><strong aria-hidden="true">4.4.1.</strong> Multicaller ðŸš§</a></li><li class="chapter-item expanded "><a href="ch04-04-02-multisig.html"><strong aria-hidden="true">4.4.2.</strong> Multisig ðŸš§</a></li><li class="chapter-item expanded "><a href="ch04-04-03-auto-payments.html"><strong aria-hidden="true">4.4.3.</strong> Auto-Payments ðŸš§</a></li><li class="chapter-item expanded "><a href="ch04-04-04-alternative-signature-schemes.html"><strong aria-hidden="true">4.4.4.</strong> Alternative Signature Schemes ðŸš§</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="ch05-00-starks.html"><strong aria-hidden="true">5.</strong> STARKs ðŸš§</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-01-basics.html"><strong aria-hidden="true">5.1.</strong> Basics ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-02-math-primer.html"><strong aria-hidden="true">5.2.</strong> Math Primer ðŸš§</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-02-01-number-theory.html"><strong aria-hidden="true">5.2.1.</strong> Number Theory ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-02-02-geometry.html"><strong aria-hidden="true">5.2.2.</strong> Geometry ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-02-03-cryptographic-primitives.html"><strong aria-hidden="true">5.2.3.</strong> Cryptographic Primitives ðŸš§</a></li></ol></li><li class="chapter-item expanded "><a href="ch05-03-arithimization.html"><strong aria-hidden="true">5.3.</strong> Arithimization ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-04-low-degree-testing.html"><strong aria-hidden="true">5.4.</strong> Low Degree Testing ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-05-fri-protocol.html"><strong aria-hidden="true">5.5.</strong> FRI Protocol ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-06-efficient-starks.html"><strong aria-hidden="true">5.6.</strong> Efficient STARKs</a></li><li class="chapter-item expanded "><a href="ch05-07-starks-protocol-python.html"><strong aria-hidden="true">5.7.</strong> STARKs Protocol (Python) ðŸš§</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-07-01-trace-low-degree-extension-python.html"><strong aria-hidden="true">5.7.1.</strong> Trace/Low Degree Extension ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-07-02-constraints-python.html"><strong aria-hidden="true">5.7.2.</strong> Constraints ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-07-03-fri-commitments-python.html"><strong aria-hidden="true">5.7.3.</strong> FRI Commitments ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-07-04-query-phase-python.html"><strong aria-hidden="true">5.7.4.</strong> Query Phase ðŸš§</a></li></ol></li><li class="chapter-item expanded "><a href="ch05-08-starks-protocol-rust.html"><strong aria-hidden="true">5.8.</strong> STARKs Protocol (Rust) ðŸš§</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-08-01-trace-low-degree-extension-rust.html"><strong aria-hidden="true">5.8.1.</strong> Trace/Low Degree Extension ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-08-02-constraints-rust.html"><strong aria-hidden="true">5.8.2.</strong> Constraints ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-08-03-fri-commitments-rust.html"><strong aria-hidden="true">5.8.3.</strong> FRI Commitments ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-08-04-query-phase-rust.html"><strong aria-hidden="true">5.8.4.</strong> Query Phase ðŸš§</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Starknet Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="starknet-react-react-integration"><a class="header" href="#starknet-react-react-integration">Starknet-React: React Integration</a></h1>
<p>Several tools exist in the starknet ecosystem to build the front-end for
your application. The most popular ones are:</p>
<ul>
<li>
<p><a href="https://github.com/apibara/starknet-react">starknet-react</a>
(<a href="https://apibara.github.io/starknet-react">documentation</a>):
Collection of React hooks for Starknet. It is inspired by
<a href="https://github.com/tmm/wagmi">wagmi</a>, powered by
<a href="https://github.com/0xs34n/starknet.js">starknet.js</a>.</p>
</li>
<li>
<p><a href="https://github.com/0xs34n/starknet.js">starknet.js</a>: A JavaScript
library for interacting with Starknet contracts. It would be the
equivalent of <a href="https://web3js.org/">web3.js</a> for Ethereum.</p>
</li>
</ul>
<p>For Vue developers, vue-stark-boil, created by the team at <a href="https://github.com/dontpanicdao">Donâ€™t Panic
DAO</a>, is a great option. For a deeper
understanding of Vue, visit their <a href="https://vuejs.org/">website</a>. The
vue-stark-boil boilerplate enables various functionalities, such as
connecting to a wallet, listening for account changes, and calling a
contract.</p>
<p>Authored by the <a href="https://github.com/apibara/">Apibara</a> team, <a href="https://github.com/apibara/starknet-react/">Starknet
React</a> is an open-source
collection of React providers and hooks meticulously designed for
Starknet.</p>
<p>To immerse in the real-world application of Starknet React, we recommend
exploring the comprehensive example dApp project at
<a href="https://github.com/finiam/starknet-demo-dapp/">starknet-demo-dapp</a>.</p>
<h2 id="integrating-starknet-react"><a class="header" href="#integrating-starknet-react">Integrating Starknet React</a></h2>
<p>Embarking on your Starknet React journey necessitates the incorporation
of vital dependencies. Letâ€™s start by adding them to your project.</p>
<pre><code>yarn add @starknet-react/core starknet get-starknet
</code></pre>
<p><a href="https://www.starknetjs.com/">Starknet.js</a> is an essential SDK
facilitating interactions with Starknet. In contrast,
<a href="https://github.com/starknet-io/get-starknet/">get-starknet</a> is a
package adept at managing wallet connections.</p>
<p>Proceed by swaddling your app within the <code>StarknetConfig</code> component.
This enveloping action offers a degree of configuration, while
simultaneously providing a React Context for the application beneath to
utilize shared data and hooks. The <code>StarknetConfig</code> component accepts a
connectors prop, allowing the definition of wallet connection options
available to the user.</p>
<pre><code>const connectors = [
  new InjectedConnector({ options: { id: &quot;braavos&quot; } }),
  new InjectedConnector({ options: { id: &quot;argentX&quot; } }),
];

return (
    &lt;StarknetConfig
      connectors={connectors}
      autoConnect
    &gt;
      &lt;App /&gt;
    &lt;/StarknetConfig&gt;
)
</code></pre>
<h2 id="establishing-connection-and-managing-account"><a class="header" href="#establishing-connection-and-managing-account">Establishing Connection and Managing Account</a></h2>
<p>Once the connectors are defined in the config, the stage is set to use a
hook to access these connectors, enabling users to connect their
wallets:</p>
<pre><code>export default function Connect() {
  const { connect, connectors, disconnect } = useConnectors();

  return (
    &lt;div&gt;
      {connectors.map((connector) =&gt; (
        &lt;button
          key={connector.id}
          onClick={() =&gt; connect(connector)}
          disabled={!connector.available()}
        &gt;
          Connect with {connector.id}
        &lt;/button&gt;
      ))}
    &lt;/div&gt;
  );
}
</code></pre>
<p>Observe the <code>disconnect</code> function that terminates the connection when
invoked. Post connection, access to the connected account is provided
through the <code>useAccount</code> hook, offering insight into the current state
of connection:</p>
<pre><code>const { address, isConnected, isReconnecting, account } = useAccount();

return (
    &lt;div&gt;
      {isConnected ? (
          &lt;p&gt;Hello, {address}&lt;/p&gt;
      ) : (
        &lt;Connect /&gt;
      )}
    &lt;/div&gt;
);
</code></pre>
<p>The state values, such as <code>isConnected</code> and <code>isReconnecting</code>, receive
automatic updates, simplifying UI conditional updates. This convenient
pattern shines when dealing with asynchronous processes, as it
eliminates the need to manually manage the state within your components.</p>
<p>Having established a connection, signing messages becomes a breeze using
the account value returned from the <code>useAccount</code> hook. For a more
streamlined experience, the <code>useSignTypedData</code> hook is at your disposal.</p>
<pre><code>const { data, signTypedData } = useSignTypedData(typedMessage)

return (
  &lt;&gt;
    &lt;p&gt;
      &lt;button onClick={signTypedData}&gt;Sign&lt;/button&gt;
    &lt;/p&gt;
    {data &amp;&amp; &lt;p&gt;Signed: {JSON.stringify(data)}&lt;/p&gt;}
  &lt;/&gt;
)
</code></pre>
<p>Starknet React supports signing an array of <code>BigNumberish</code> values or an
object. While signing an object, it is crucial to ensure that the data
conforms to the EIP712 type. For a more comprehensive guide on signing,
refer to the Starknet.js documentation:
<a href="https://www.starknetjs.com/docs/guides/signature/">here</a>.</p>
<h2 id="displaying-starkname"><a class="header" href="#displaying-starkname">Displaying StarkName</a></h2>
<p>After an account has been connected, the <code>useStarkName</code> hook can be used
to retrieve the StarkName of this connected account. Related to
<a href="https://www.starknet.id/">Starknet.id</a> it permits to display the user
address in a more user friendly way.</p>
<pre><code>const { data, isError, isLoading, status } = useStarkName({ address });
// You can track the status of the request with the status variable ('idle' | 'error' | 'loading' | 'success')

if (isLoading) return &lt;p&gt;Loading...&lt;/p&gt;
return &lt;p&gt;Account: {isError ? address : data}&lt;/p&gt;
</code></pre>
<p>You also have additional information you can get from this hook â†’
<strong>error</strong>, <strong>isIdle</strong>, <strong>isFetching</strong>, <strong>isSuccess</strong>, <strong>isFetched</strong>,
<strong>isFetchedAfterMount</strong>, <strong>isRefetching</strong>, <strong>refetch</strong> which can give
you more precise information on what is happening.</p>
<h2 id="fetching-address-from-starkname"><a class="header" href="#fetching-address-from-starkname">Fetching address from StarkName</a></h2>
<p>You could also want to retrieve an address corresponding to a StarkName.
For this purpose, you can use the <code>useAddressFromStarkName</code> hook.</p>
<pre><code>const { data, isLoading, isError } = useAddressFromStarkName({ name: 'vitalik.stark' })

if (isLoading) return &lt;p&gt;Loading...&lt;/p&gt;
if (isError) return &lt;p&gt;Something went wrong&lt;/p&gt;
return &lt;p&gt;Address: {data}&lt;/p&gt;
</code></pre>
<p>If the provided name does not have an associated address, it will return
<strong>&quot;0x0&quot;</strong></p>
<h2 id="navigating-the-network"><a class="header" href="#navigating-the-network">Navigating the Network</a></h2>
<p>In addition to wallet and account management, Starknet React equips
developers with hooks for network interactions. For instance, useBlock
enables the retrieval of the latest block:</p>
<pre><code>const { data, isError, isFetching } = useBlock({
    refetchInterval: 10_000,
    blockIdentifier: &quot;latest&quot;,
});

if (isError) {
  return (
    &lt;p&gt;Something went wrong&lt;/p&gt;
  )
}

return (
    &lt;p&gt;Current block: {isFetching ? &quot;Loading...&quot; : data?.block_number}&lt;p&gt;
)
</code></pre>
<p>In the aforementioned code, refetchInterval controls the frequency of
data refetching. Behind the scenes, Starknet React harnesses
<a href="https://github.com/TanStack/query/">react-query</a> for managing state and
queries. In addition to useBlock, Starknet React offers other hooks like
useContractRead and useWaitForTransaction, which can be configured to
update at regular intervals.</p>
<p>The useStarknet hook provides direct access to the ProviderInterface:</p>
<pre><code>const { library } = useStarknet();

// library.getClassByHash(...)
// library.getTransaction(...)
</code></pre>
<h2 id="tracking-wallet-changes"><a class="header" href="#tracking-wallet-changes">Tracking Wallet changes</a></h2>
<p>To improve your dApp User Experience, you can track the user wallet
changes, especially when the user changes the wallet account (or
connects/disconnects). But also when the user changes the network. You
could want to reload correct balances when the user changes the account,
or to reset the state of your dApp when the user changes the network. To
do so, you can use a previous hook we already looked at: <code>useAccount</code>
and a new one <code>useNetwork</code>.</p>
<p>The <code>useNetwork</code> hook can provide you with the network chain currently
in use.</p>
<pre><code>const { chain: {id, name} } = useNetwork();

return (
    &lt;&gt;
        &lt;p&gt;Connected chain: {name}&lt;/p&gt;
        &lt;p&gt;Connected chain id: {id}&lt;/p&gt;
    &lt;/&gt;
)
</code></pre>
<p>You also have additional information you can get from this hook â†’
<strong>blockExplorer</strong>, <strong>testnet</strong> which can give you more precise
information about the current network being used.</p>
<p>After knowing this you have all you need to track user interaction on
the using account and network. You can use the <code>useEffect</code> hook to do
some work on changes.</p>
<pre><code>const { chain } = useNetwork();
const { address } = useAccount();

useEffect(() =&gt; {
    if(address) {
        // Do some work when the user changes the account on the wallet
        // Like reloading the balances
    }else{
        // Do some work when the user disconnects the wallet
        // Like reseting the state of your dApp
    }
}, [address]);

useEffect(() =&gt; {
    // Do some work when the user changes the network on the wallet
    // Like reseting the state of your dApp
}, [chain]);
</code></pre>
<h2 id="contract-interactions"><a class="header" href="#contract-interactions">Contract Interactions</a></h2>
<h3 id="read-functions"><a class="header" href="#read-functions">Read Functions</a></h3>
<p>Starknet React presents useContractRead, a specialized hook for invoking
read functions on contracts, akin to wagmi. This hook functions
independently of the userâ€™s connection status, as read operations do not
necessitate a signer.</p>
<pre><code>const { data: balance, isLoading, isError, isSuccess } = useContractRead({
    abi: abi_erc20,
    address: CONTRACT_ADDRESS,
    functionName: &quot;allowance&quot;,
    args: [owner, spender],
    // watch: true &lt;- refresh at every block
});
</code></pre>
<p>For ERC20 operations, Starknet React offers a convenient useBalance
hook. This hook exempts you from passing an ABI and returns a suitably
formatted balance value.</p>
<pre><code>  const { data, isLoading } = useBalance({
    address,
    token: CONTRACT_ADDRESS, // &lt;- defaults to the ETH token
    // watch: true &lt;- refresh at every block
  });

  return (
    &lt;p&gt;Balance: {data?.formatted} {data?.symbol}&lt;/p&gt;
  )
</code></pre>
<h3 id="write-functions"><a class="header" href="#write-functions">Write Functions</a></h3>
<p>The useContractWrite hook, designed for write operations, deviates
slightly from wagmi. The unique architecture of Starknet facilitates
multicall transactions natively at the account level. This feature
enhances the user experience when executing multiple transactions,
eliminating the need to approve each transaction individually. Starknet
React capitalizes on this functionality through the useContractWrite
hook. Below is a demonstration of its usage:</p>
<pre><code>const calls = useMemo(() =&gt; {
    // compile the calldata to send
    const calldata = stark.compileCalldata({
      argName: argValue,
    });

    // return a single object for single transaction,
    // or an array of objects for multicall**
    return {
      contractAddress: CONTRACT_ADDRESS,
      entrypoint: functionName,
      calldata,
    };
}, [argValue]);


// Returns a function to trigger the transaction
// and state of tx after being sent
const { write, isLoading, data } = useContractWrite({
    calls,
});

function execute() {
  // trigger the transaction
  write();
}

return (
  &lt;button type=&quot;button&quot; onClick={execute}&gt;
    Make a transaction
  &lt;/button&gt;
)
</code></pre>
<p>The code snippet begins by compiling the calldata using the
compileCalldata utility provided by Starknet.js. This calldata, along
with the contract address and entry point, are passed to the
useContractWrite hook. The hook returns a write function that is
subsequently used to execute the transaction. The hook also provides the
transactionâ€™s hash and state.</p>
<h3 id="a-single-contract-instance"><a class="header" href="#a-single-contract-instance">A Single Contract Instance</a></h3>
<p>In certain use cases, working with a single contract instance may be
preferable to specifying the contract address and ABI in each hook.
Starknet React accommodates this requirement with the useContract hook:</p>
<pre><code>const { contract } = useContract({
    address: CONTRACT_ADDRESS,
    abi: abi_erc20,
});

// Call functions directly on contract
// contract.transfer(...);
// contract.balanceOf(...);
</code></pre>
<h2 id="tracking-transactions"><a class="header" href="#tracking-transactions">Tracking Transactions</a></h2>
<p>The useTransaction hook allows for the tracking of transaction states
given a transaction hash. This hook maintains a cache of all
transactions, thereby minimizing redundant network requests.</p>
<pre><code>const { data, isLoading, error } = useTransaction({ hash: txHash });

return (
  &lt;pre&gt;
    {JSON.stringify(data?.calldata)}
  &lt;/pre&gt;
)
</code></pre>
<p>The full array of available hooks can be discovered in the Starknet
React documentation, accessible here:
<a href="https://apibara.github.io/starknet-react/">https://apibara.github.io/starknet-react/</a>.</p>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>The Starknet React library offers a comprehensive suite of React hooks
and providers, purpose-built for Starknet and the Starknet.js SDK. By
taking advantage of these well-crafted tools, developers can build
robust decentralized applications that harness the power of the Starknet
network.</p>
<p>Through the diligent work of dedicated developers and contributors,
Starknet React continues to evolve. New features and optimizations are
regularly added, fostering a dynamic and growing ecosystem of
decentralized applications.</p>
<p>Itâ€™s a fascinating journey, filled with innovative technology, endless
opportunities, and a growing community of passionate individuals. As a
developer, youâ€™re not only building applications, but contributing to
the advancement of a global, decentralized network.</p>
<p>Have questions or need help? The Starknet community is always ready to
assist. Join the <a href="https://discord.gg/starknet">Starknet Discord</a> or
explore the <a href="https://github.com/starknet-edu/starknetbook">StarknetBookâ€™s GitHub
repository</a> for resources
and support.</p>
<h2 id="further-reading"><a class="header" href="#further-reading">Further Reading</a></h2>
<ul>
<li>
<p><a href="https://starknet.js.org">Starknet.js</a></p>
</li>
<li>
<p><a href="https://www.apibara.com/starknet-react-docs">Starknet React Docs</a></p>
</li>
<li>
<p><a href="https://github.com/ethereumbook/ethereumbook">Mastering Ethereum</a></p>
</li>
<li>
<p><a href="https://github.com/bitcoinbook/bitcoinbook">Mastering Bitcoin</a></p>
</li>
</ul>
<p>The Book is a community-driven effort created for the community.</p>
<ul>
<li>
<p>If youâ€™ve learned something, or not, please take a moment to provide
feedback through <a href="https://a.sprig.com/WTRtdlh2VUlja09lfnNpZDo4MTQyYTlmMy03NzdkLTQ0NDEtOTBiZC01ZjAyNDU0ZDgxMzU=">this 3-question
survey</a>.</p>
</li>
<li>
<p>If you discover any errors or have additional suggestions, donâ€™t
hesitate to open an <a href="https://github.com/starknet-edu/starknetbook/issues">issue on our GitHub
repository</a>.</p>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch02-07-starknet-js.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="ch02-09-starknet-py.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch02-07-starknet-js.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="ch02-09-starknet-py.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
