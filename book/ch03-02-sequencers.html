<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Sequencers - The Starknet Book</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="title-page.html">The Starknet Book</a></li><li class="chapter-item expanded affix "><a href="ch00-00-introduction.html">Introduction</a></li><li class="chapter-item expanded "><a href="ch01-00-getting-started.html"><strong aria-hidden="true">1.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="ch02-00-starknet-tooling.html"><strong aria-hidden="true">2.</strong> Tooling</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch02-01-basic-installation.html"><strong aria-hidden="true">2.1.</strong> Basic Installation</a></li><li class="chapter-item expanded "><a href="ch02-02-compile-deploy-interact.html"><strong aria-hidden="true">2.2.</strong> Compile, Deploy, Interact</a></li><li class="chapter-item expanded "><a href="ch02-03-scarb.html"><strong aria-hidden="true">2.3.</strong> Scarb: The Package Manager</a></li><li class="chapter-item expanded "><a href="ch02-04-starkli.html"><strong aria-hidden="true">2.4.</strong> Starkli: A CLI interface ðŸš§</a></li><li class="chapter-item expanded "><a href="ch02-05-katana.html"><strong aria-hidden="true">2.5.</strong> Katana: A Local Node</a></li><li class="chapter-item expanded "><a href="ch02-06-starknet-devnet.html"><strong aria-hidden="true">2.6.</strong> Starknet Devnet ðŸš§</a></li><li class="chapter-item expanded "><a href="ch02-07-starknet-js.html"><strong aria-hidden="true">2.7.</strong> Starknet-js: Javascript SDK</a></li><li class="chapter-item expanded "><a href="ch02-08-starknet-react.html"><strong aria-hidden="true">2.8.</strong> Starknet-React: React Integration</a></li><li class="chapter-item expanded "><a href="ch02-09-starknet-py.html"><strong aria-hidden="true">2.9.</strong> Starknet-py: Python SDK ðŸš§</a></li><li class="chapter-item expanded "><a href="ch02-10-starknet-rs.html"><strong aria-hidden="true">2.10.</strong> Starknet-rs: Rust SDK ðŸš§</a></li><li class="chapter-item expanded "><a href="ch02-11-foundry-cast.html"><strong aria-hidden="true">2.11.</strong> Foundry Cast: Interacting with Starknet ðŸš§</a></li><li class="chapter-item expanded "><a href="ch02-12-foundry-forge.html"><strong aria-hidden="true">2.12.</strong> Foundry Forge: Testing ðŸš§</a></li></ol></li><li class="chapter-item expanded "><a href="ch03-00-architecture.html"><strong aria-hidden="true">3.</strong> Architecture</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch03-01-transactions.html"><strong aria-hidden="true">3.1.</strong> Transactions</a></li><li class="chapter-item expanded "><a href="ch03-02-sequencers.html" class="active"><strong aria-hidden="true">3.2.</strong> Sequencers</a></li><li class="chapter-item expanded "><a href="ch03-03-provers.html"><strong aria-hidden="true">3.3.</strong> Provers ðŸš§</a></li><li class="chapter-item expanded "><a href="ch03-04-nodes.html"><strong aria-hidden="true">3.4.</strong> Nodes ðŸš§</a></li><li class="chapter-item expanded "><a href="ch03-05-layer-3.html"><strong aria-hidden="true">3.5.</strong> Layer 3 and App Chains ðŸš§  </a></li><li class="chapter-item expanded "><a href="ch03-06-solidity-verifier.html"><strong aria-hidden="true">3.6.</strong> Solidity Verifier ðŸš§</a></li><li class="chapter-item expanded "><a href="ch03-07-decentralization.html"><strong aria-hidden="true">3.7.</strong> Decentralization ðŸš§</a></li></ol></li><li class="chapter-item expanded "><a href="ch04-00-account-abstraction.html"><strong aria-hidden="true">4.</strong> Account Abstraction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch04-01-accounts.html"><strong aria-hidden="true">4.1.</strong> Accounts</a></li><li class="chapter-item expanded "><a href="ch04-02-hello-account.html"><strong aria-hidden="true">4.2.</strong> Hello, Account! ðŸš§</a></li><li class="chapter-item expanded "><a href="ch04-03-standard-account.html"><strong aria-hidden="true">4.3.</strong> Standard AccounT ðŸš§</a></li><li class="chapter-item expanded "><a href="ch04-04-examples.html"><strong aria-hidden="true">4.4.</strong> Examples</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch04-04-01-multicaller.html"><strong aria-hidden="true">4.4.1.</strong> Multicaller ðŸš§</a></li><li class="chapter-item expanded "><a href="ch04-04-02-multisig.html"><strong aria-hidden="true">4.4.2.</strong> Multisig ðŸš§</a></li><li class="chapter-item expanded "><a href="ch04-04-03-auto-payments.html"><strong aria-hidden="true">4.4.3.</strong> Auto-Payments ðŸš§</a></li><li class="chapter-item expanded "><a href="ch04-04-04-alternative-signature-schemes.html"><strong aria-hidden="true">4.4.4.</strong> Alternative Signature Schemes ðŸš§</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="ch05-00-starks.html"><strong aria-hidden="true">5.</strong> STARKs ðŸš§</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-01-basics.html"><strong aria-hidden="true">5.1.</strong> Basics ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-02-math-primer.html"><strong aria-hidden="true">5.2.</strong> Math Primer ðŸš§</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-02-01-number-theory.html"><strong aria-hidden="true">5.2.1.</strong> Number Theory ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-02-02-geometry.html"><strong aria-hidden="true">5.2.2.</strong> Geometry ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-02-03-cryptographic-primitives.html"><strong aria-hidden="true">5.2.3.</strong> Cryptographic Primitives ðŸš§</a></li></ol></li><li class="chapter-item expanded "><a href="ch05-03-arithimization.html"><strong aria-hidden="true">5.3.</strong> Arithimization ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-04-low-degree-testing.html"><strong aria-hidden="true">5.4.</strong> Low Degree Testing ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-05-fri-protocol.html"><strong aria-hidden="true">5.5.</strong> FRI Protocol ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-06-efficient-starks.html"><strong aria-hidden="true">5.6.</strong> Efficient STARKs</a></li><li class="chapter-item expanded "><a href="ch05-07-starks-protocol-python.html"><strong aria-hidden="true">5.7.</strong> STARKs Protocol (Python) ðŸš§</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-07-01-trace-low-degree-extension-python.html"><strong aria-hidden="true">5.7.1.</strong> Trace/Low Degree Extension ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-07-02-constraints-python.html"><strong aria-hidden="true">5.7.2.</strong> Constraints ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-07-03-fri-commitments-python.html"><strong aria-hidden="true">5.7.3.</strong> FRI Commitments ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-07-04-query-phase-python.html"><strong aria-hidden="true">5.7.4.</strong> Query Phase ðŸš§</a></li></ol></li><li class="chapter-item expanded "><a href="ch05-08-starks-protocol-rust.html"><strong aria-hidden="true">5.8.</strong> STARKs Protocol (Rust) ðŸš§</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="ch05-08-01-trace-low-degree-extension-rust.html"><strong aria-hidden="true">5.8.1.</strong> Trace/Low Degree Extension ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-08-02-constraints-rust.html"><strong aria-hidden="true">5.8.2.</strong> Constraints ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-08-03-fri-commitments-rust.html"><strong aria-hidden="true">5.8.3.</strong> FRI Commitments ðŸš§</a></li><li class="chapter-item expanded "><a href="ch05-08-04-query-phase-rust.html"><strong aria-hidden="true">5.8.4.</strong> Query Phase ðŸš§</a></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">The Starknet Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="sequencers"><a class="header" href="#sequencers">Sequencers</a></h1>
<p>Before diving in, make sure to check out the <a href="https://book.starknet.io/chapter_3/topology.html">&quot;Understanding Starknet:
Sequencers, Provers, and
Nodes&quot;</a> chapter for a
quick rundown of Starknetâ€™s architecture.</p>
<p>Three main layers exist in blockchain: data availability, ordering, and
execution. Sequencers have evolved within this evolving modular
landscape of blockchain technology. Most L1 blockchains, like Ethereum,
handle all these tasks. Initially, blockchains served as distributed
virtual machines focused on organizing and executing transactions. Even
roll-ups running on Ethereum today often centralize sequencing
(ordering) and execution while relying on Ethereum for data
availability. This is the current state of Starknet, which uses Ethereum
for data availability and a centralized Sequencer for ordering and
execution. However, it is possible to decentralize sequencing and
execution, as Starknet is doing.</p>
<p>Each of these layers plays a crucial role in achieving consensus. First,
the data must be available. Second, it needs to be put in a specific
order. Thatâ€™s the main job of a Sequencer, whether run by a single
computer or a decentralized protocol. Lastly, you execute transactions
in the order theyâ€™ve been sequenced. This final step, done by the
Sequencer too, determines the systemâ€™s current state and keeps all
connected clients on the same page.</p>
<h2 id="introduction-to-sequencers"><a class="header" href="#introduction-to-sequencers">Introduction to Sequencers</a></h2>
<p>The advent of Layer Two (L2) solutions like Roll-Ups has altered the
blockchain landscape, improving scalability and efficiency. But what
about transaction order? Is it still managed by the base layer (L1), or
is an external system involved? Enter Sequencers. They ensure
transactions are in the correct order, regardless of whether theyâ€™re
managed by L1 or another system.</p>
<p>In essence, sequencing has two core tasks: sequencing (ordering) and
executing (validation). First, it orders transactions, determining the
canonical sequence of blocks for a given chain fork. It then appends new
blocks to this sequence. Second, it executes these transactions,
updating the systemâ€™s state based on a given function.</p>
<p>To clarify, we see sequencing as the act of taking a group of unordered
transactions and producing an ordered block. Sequencers also confirm the
resulting state of the machine. However, the approach explained here
separates these tasks. While some systems handle both ordering and state
validation simultaneously, we advocate for treating them as distinct
steps.</p>
<img alt="Sequencer role in the Starknet network" src="img/ch03-sequencer.png" class="center" style="width: 50%;" />
<p><span class="caption">Sequencer role in the Starknet network</span></p>
<h2 id="sequencers-in-starknet"><a class="header" href="#sequencers-in-starknet">Sequencers in Starknet</a></h2>
<p>Letâ€™s delve into Sequencers by focusing on
<a href="https://github.com/keep-starknet-strange/madara">Madara</a> and
<a href="https://github.com/lambdaclass/starknet_stack/tree/main/sequencer">Kraken</a>,
two high-performance Starknet Sequencers. A Sequencer must, at least, do
two things: order and execute transactions.</p>
<ul>
<li>
<p><strong>Ordering</strong>: Madara handles the sequencing process, supporting
methods from simple FCFS and PGA to complex ones like Narwhall &amp;
Bullshark. It also manages the mempool, a critical data structure
that holds unconfirmed transactions. Developers can choose the
consensus protocol through Madaraâ€™s use of Substrate, which offers
multiple built-in options.</p>
</li>
<li>
<p><strong>Execution</strong>: Madara lets you choose between two execution crates:
<a href="https://github.com/starkware-libs/blockifier/tree/main">Blockifier</a>
and
<a href="https://github.com/lambdaclass/starknet_in_rust">Starknet_in_Rust</a>.
Both use the <a href="https://github.com/lambdaclass/cairo-vm">Cairo VM</a> for
their framework.</p>
</li>
</ul>
<p>We also have the Kraken Sequencer as another option.</p>
<ul>
<li>
<p><strong>Ordering</strong>: It employs Narwhall &amp; Bullshark for mempool
management. You can choose from multiple consensus methods, like
Bullshark, Tendermint, or Hotstuff.</p>
</li>
<li>
<p><strong>Execution</strong>: Runs on Starknet_in_Rust. Execution can be deferred
to either <a href="https://github.com/lambdaclass/cairo_native">Cairo
Native</a> or <a href="https://github.com/lambdaclass/cairo-vm">Cairo
VM</a>.</p>
</li>
</ul>
<table style="width:100%;">
<colgroup>
<col style="width: 42%" />
<col style="width: 28%" />
<col style="width: 28%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Feature</th>
<th style="text-align: left;"><a
href="https://github.com/keep-starknet-strange/madara">Madara</a></th>
<th style="text-align: left;"><a
href="https://github.com/lambdaclass/starknet_stack/tree/main/sequencer">Kraken</a></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><p><strong>Ordering
Method</strong></p></td>
<td style="text-align: left;"><p>FCFS, PGA, Narwhall &amp;
Bullshark</p></td>
<td style="text-align: left;"><p>Narwhall &amp; Bullshark</p></td>
</tr>
<tr class="even">
<td style="text-align: left;"><p><strong>Mempool
Management</strong></p></td>
<td style="text-align: left;"><p>Managed by Madara</p></td>
<td style="text-align: left;"><p>Managed using Narwhall &amp;
Bullshark</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><p><strong>Consensus
Options</strong></p></td>
<td style="text-align: left;"><p>Developerâ€™s choice through
Substrate</p></td>
<td style="text-align: left;"><p>Bullshark, Tendermint or
Hotstuff</p></td>
</tr>
<tr class="even">
<td style="text-align: left;"><p><strong>Execution
Crates</strong></p></td>
<td style="text-align: left;"><p><a
href="https://github.com/starkware-libs/blockifier/tree/main">Blockifier</a>,
Starknet_in_rust</p></td>
<td style="text-align: left;"><p>Starknet_in_rust</p></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><p><strong>Execution
Framework</strong></p></td>
<td style="text-align: left;"><p><a
href="https://github.com/lambdaclass/cairo-vm">Cairo VM</a></p></td>
<td style="text-align: left;"><p><a
href="https://github.com/lambdaclass/cairo_native">Cairo Native</a> or
<a href="https://github.com/lambdaclass/cairo-vm">Cairo VM</a></p></td>
</tr>
</tbody>
</table>
<h3 id="understanding-the-execution-layer"><a class="header" href="#understanding-the-execution-layer">Understanding the Execution Layer</a></h3>
<ul>
<li>
<p><a href="https://github.com/starkware-libs/blockifier/tree/main">Blockifier</a>,
a Rust component in Starknet Sequencers, generates state diffs and
blocks. It uses <a href="https://github.com/lambdaclass/cairo-vm">Cairo VM</a>.
Its goal is to become a full Starknet Sequencer.</p>
</li>
<li>
<p>Starknet_in_Rust is another Rust component for Starknet that also
generates state diffs and blocks. It uses <a href="https://github.com/lambdaclass/cairo-vm">Cairo
VM</a>.</p>
</li>
<li>
<p><a href="https://github.com/lambdaclass/cairo_native">Cairo Native</a> stands
out by converting Cairoâ€™s Sierra code to MLIR. See an example
<a href="https://github.com/lambdaclass/cairo_native/blob/main/examples/erc20.rs">here</a>.</p>
</li>
</ul>
<h2 id="the-need-for-decentralized-sequencers"><a class="header" href="#the-need-for-decentralized-sequencers">The Need for Decentralized Sequencers</a></h2>
<p>For more details on the Decentralization of Starknet, refer to the
dedicated subchapter in this Chapter.</p>
<p>Proving transactions doesnâ€™t required to be decentralized (although in
the near future Starknet will operate with decentralized provers). Once
the order is set, anyone can submit a proof; itâ€™s either correct or not.
However, the process that determines this order should be decentralized
to maintain a blockchainâ€™s original qualities.</p>
<p>In the context of Ethereumâ€™s Layer 1 (L1), Sequencers can be likened to
Ethereum validators. They are responsible for creating and broadcasting
blocks. This role is divided under the concept of &quot;Proposer-Builder
Separation&quot; (PBS) (<a href="https://www.youtube.com/watch?v=6xS0xMzh9Tc">Hasu,
2023</a>). Block builders form
blocks (order the transactions), while block proposers, unaware of the
blockâ€™s content, choose the most profitable one. This separation
prevents transaction censorship at the protocol level. Currently, most
Layer 2 (L2) Sequencers, including Starknet, perform both roles, which
can create issues.</p>
<p>The drive toward centralized Sequencers mainly stems from performance
issues like high costs and poor user experience on Ethereum for both
data storage and transaction ordering. The challenge is scalability: how
to expand without sacrificing decentralization. Opting for
centralization risks turning the blockchain monopolistic, negating its
unique advantages like network-effect services without monopoly.</p>
<p>With centralization, blockchain loses its core principles: credible
neutrality and resistance to monopolization. Whatâ€™s wrong with a
centralized system? It raises the risks of censorship (via transaction
reordering).</p>
<p>A centralized validity roll-up looks like this:</p>
<ul>
<li>
<p>User Interaction &amp; Selection: Users send transactions to a
centralized Sequencer, which selects and orders them.</p>
</li>
<li>
<p>Block Formation: The Sequencer packages these ordered transactions
into a block.</p>
</li>
<li>
<p>Proof &amp; Verification: The block is sent to a proving service, which
generates a proof and posts it to Layer 1 (L1) for verification.</p>
</li>
<li>
<p>Verification: Once verified on L1, the transactions are considered
finalized and integrated into the L1 blockchain.</p>
</li>
</ul>
<img alt="Centralized rollup" src="img/ch03-centralized-rollup.png" class="center" style="width: 50%;" />
<p><span class="caption">Centralized rollup</span></p>
<p>While centralized roll-ups can provide L1 security, they come with a
significant downside: the risk of censorship. Hence, the push for
decentralization in roll-ups.</p>
<h2 id="conclusion"><a class="header" href="#conclusion">Conclusion</a></h2>
<p>This chapter has dissected the role of Sequencers in the complex
ecosystem of blockchain technology, focusing on Starknetâ€™s current state
and future directions. Sequencers essentially serve two main functions:
ordering transactions and executing them. While these tasks may seem
straightforward, they are pivotal in achieving network consensus and
ensuring security.</p>
<p>Given the evolving modular architecture of blockchainâ€”with distinct
layers for data availability, transaction ordering, and
executionâ€”Sequencers provide a crucial link. Their role gains more
significance in the context of Layer 2 solutions, where achieving
scalability without sacrificing decentralization is a pressing concern.</p>
<p>In Starknet, Sequencers like Madara and Kraken demonstrate the potential
of high-performance, customizable solutions. These Sequencers allow for
a range of ordering methods and execution frameworks, proving that
thereâ€™s room for innovation even within seemingly rigid structures.</p>
<p>The discussion on &quot;Proposer-Builder Separation&quot; (PBS) highlights the
need for role specialization to maintain a systemâ€™s integrity and thwart
transaction censorship. This becomes especially crucial when we
recognize that the current model of many L2 Sequencers, Starknet
included, performs both proposing and building, potentially exposing the
network to vulnerabilities.</p>
<p>To reiterate, Sequencers arenâ€™t just a mechanism for transaction
ordering and execution; they are a linchpin in blockchainâ€™s
decentralized ethos. Whether centralized or decentralized, Sequencers
must strike a delicate balance between scalability, efficiency, and the
overarching principle of decentralization.</p>
<p>As blockchain technology continues to mature, itâ€™s worth keeping an eye
on how the role of Sequencers evolves. They hold the potential to either
strengthen or weaken the unique advantages that make blockchain
technology so revolutionary.</p>
<p>The Book is a community-driven effort created for the community.</p>
<ul>
<li>
<p>If youâ€™ve learned something, or not, please take a moment to provide
feedback through <a href="https://a.sprig.com/WTRtdlh2VUlja09lfnNpZDo4MTQyYTlmMy03NzdkLTQ0NDEtOTBiZC01ZjAyNDU0ZDgxMzU=">this 3-question
survey</a>.</p>
</li>
<li>
<p>If you discover any errors or have additional suggestions, donâ€™t
hesitate to open an <a href="https://github.com/starknet-edu/starknetbook/issues">issue on our GitHub
repository</a>.</p>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ch03-01-transactions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="ch03-03-provers.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ch03-01-transactions.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="ch03-03-provers.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
